@model IEnumerable<PF_Pach_OS.Models.Producto>

@{
    Layout = null;
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <link href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
}

<link href="~/css/ventas/saborespizza.css" rel="stylesheet" />

<div>
    <form id="formSabores" novalidate>
        <div class="row">
            <input type="hidden" readonly value="@ViewBag.IdVenta">

            <div class="d-flex justify-content-between">
                <span>Tamaño a vender: <strong>@ViewBag.TamanoVender</strong> </span>
                <span>Maximo de sabores: <strong>@ViewBag.MaximoSabores</strong></span>
                <input type="hidden" value="@ViewBag.MaximoSabores readonly" id="maximoSabores">
            </div>

            <div class="col-5">
                <label class="form-label">Cantidad</label>
                <input type="number" class="form-control" value="0" id="CantVendida">
                <span id="cantidadMensaje" class="invalid-feedback"></span>
                <span class="valid-feedback"></span>
            </div>

        </div>
        <div class="mt-3 col">
            <table class="table mb-0 table-borderless table-bordered" id="TablaSabores">
                <thead class="sombra">
                    <tr class="">
                        <th>Seleccionar sabor</th>
                        <th>Sabor de Pizza</th>
                    </tr>

                </thead>
                <tbody>
                    @foreach (var saborPizza in Model)
                    {
                        <tr>
                            <td><input type="checkbox" id="saborPizza" name="saborPizza" value="@saborPizza.IdProducto"></td>
                            <td><span>@saborPizza.NomProducto</span></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <div class="row mt-3 justify-content-center">
            <input type="button" class="btn btn-primary botones-agregar col-3 mr-1" id="btnEnviar" value="Agregar">
        </div>

    </form>
</div>
<script>
    $(document).ready(function () {
        $('#TablaSabores').DataTable({
            searching: true,
            lengthChange: false,
            info: false,
            pageLength: 6,
            filters: false,
            "language": {
                "url": "https://cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"
            }
        });

        // Contar las filas de la tabla
        var ContadorFilas = $('#TablaDetalles tbody tr').length;
        console.log('Número de filas en la tabla: ' + ContadorFilas);
    });

</script>
<script src="~/js/ventas/saborespizzas.js"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>